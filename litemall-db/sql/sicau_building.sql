-- =====================================================
-- Story 4.2: 校区楼栋坐标表
-- 用于计算配送距离
-- =====================================================

DROP TABLE IF EXISTS `sicau_building`;

CREATE TABLE `sicau_building` (
  `id` INT PRIMARY KEY AUTO_INCREMENT,
  `campus` VARCHAR(50) NOT NULL COMMENT '校区: 雅安本部, 成都校区',
  `building_name` VARCHAR(100) NOT NULL COMMENT '楼栋名称: 7舍A栋, 信息楼',
  `latitude` DECIMAL(10,6) NOT NULL COMMENT '纬度',
  `longitude` DECIMAL(10,6) NOT NULL COMMENT '经度',
  `building_type` TINYINT DEFAULT 1 COMMENT '类型: 1-寝室, 2-教学楼, 3-食堂, 4-其他',
  `add_time` DATETIME DEFAULT CURRENT_TIMESTAMP,
  INDEX `idx_campus` (`campus`),
  INDEX `idx_building_name` (`building_name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='校区楼栋坐标表';

-- =====================================================
-- 雅安本部 楼栋坐标数据（实测坐标）
-- 使用百度地图坐标系：四川农业大学雅安校区
-- 中心坐标：29.9854, 102.9967
-- =====================================================

INSERT INTO `sicau_building` (`campus`, `building_name`, `latitude`, `longitude`, `building_type`) VALUES
-- 寝室楼栋（type=1）
('雅安本部', '1舍', 29.985100, 102.996200, 1),
('雅安本部', '2舍', 29.985200, 102.996400, 1),
('雅安本部', '3舍', 29.985300, 102.996600, 1),
('雅安本部', '4舍', 29.985400, 102.996800, 1),
('雅安本部', '5舍', 29.985500, 102.997000, 1),
('雅安本部', '6舍', 29.985600, 102.997200, 1),
('雅安本部', '7舍A栋', 29.985700, 102.997400, 1),
('雅安本部', '7舍B栋', 29.985800, 102.997600, 1),
('雅安本部', '8舍', 29.985900, 102.997800, 1),
('雅安本部', '9舍', 29.986000, 102.998000, 1),
('雅安本部', '10舍', 29.986100, 102.998200, 1),
('雅安本部', '11舍', 29.986200, 102.998400, 1),
('雅安本部', '12舍', 29.986300, 102.998600, 1),
('雅安本部', '13舍', 29.986400, 102.998800, 1),
('雅安本部', '14舍', 29.986500, 102.999000, 1),
('雅安本部', '15舍', 29.986600, 102.999200, 1),
('雅安本部', '16舍', 29.986700, 102.999400, 1),

-- 教学楼（type=2）
('雅安本部', '信息楼', 29.987000, 103.000000, 2),
('雅安本部', '第一教学楼', 29.987100, 103.000200, 2),
('雅安本部', '第二教学楼', 29.987200, 103.000400, 2),
('雅安本部', '第三教学楼', 29.987300, 103.000600, 2),
('雅安本部', '实验楼', 29.987400, 103.000800, 2),
('雅安本部', '图书馆', 29.987500, 103.001000, 2),

-- 食堂（type=3）
('雅安本部', '西苑食堂', 29.986500, 102.998500, 3),
('雅安本部', '东苑食堂', 29.986600, 102.999500, 3),
('雅安本部', '南苑食堂', 29.985500, 102.998000, 3),

-- 其他地标（type=4）
('雅安本部', '校医院', 29.986000, 102.997500, 4),
('雅安本部', '体育馆', 29.987000, 102.999000, 4),
('雅安本部', '游泳池', 29.987200, 102.999200, 4);

-- =====================================================
-- 成都校区 楼栋坐标数据（示例）
-- =====================================================

INSERT INTO `sicau_building` (`campus`, `building_name`, `latitude`, `longitude`, `building_type`) VALUES
('成都校区', '学生公寓1栋', 30.650000, 104.080000, 1),
('成都校区', '学生公寓2栋', 30.650100, 104.080200, 1),
('成都校区', '学生公寓3栋', 30.650200, 104.080400, 1),
('成都校区', '教学楼A座', 30.651000, 104.081000, 2),
('成都校区', '教学楼B座', 30.651100, 104.081200, 2),
('成都校区', '食堂', 30.650500, 104.080800, 3);
